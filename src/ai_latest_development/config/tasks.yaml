performance_task:
  description: >
    Using the atlas_performance_tool, fetch clusters and 6-hour measurements for CPU, disk IOPS,
    network bytes in/out, and command ops. Detect high CPU (>75% avg), high IOPS (>1000 max), low
    utilization (low net in <10k avg or low ops <50 avg), and high egress (>10,000,000 avg out).
    Produce a concise Markdown section per cluster/process with bullet insights and a closing list
    of general recommendations.
  expected_output: >
    Structured Markdown including sections per cluster with findings, followed by a short summary and 3-5 recommendations.
  agent: performance_agent

security_task:
  description: >
    Using the atlas_security_tool, fetch and analyze security configurations: IP access list
    (check for 0.0.0.0/0), database users and roles (identify overly privileged accounts like
    atlasAdmin, root, dbAdmin), TLS enforcement in cluster connection strings, and encryption
    at rest settings (check for external KMS). Generate a security findings report with
    bullet-point vulnerabilities and a recommendations list.
  expected_output: >
    Structured Markdown security report with sections for IP access, TLS/SSL, user roles, encryption,
    followed by a vulnerability summary and 3-5 security recommendations.
  agent: security_agent
